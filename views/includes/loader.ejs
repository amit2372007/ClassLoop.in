<style>
  /* 1. Perfected Infinity Loop Animation */
  .infinity-path {
    stroke-dasharray: 190;
    stroke-dashoffset: 190;
    animation: drawLoop 2.5s ease-in-out infinite;
  }
  @keyframes drawLoop {
    0% {
      stroke-dashoffset: 190;
    }
    50% {
      stroke-dashoffset: 0;
    }
    100% {
      stroke-dashoffset: -190;
    }
  }

  /* 2. Soft Text Pulsing */
  @keyframes pulse-soft {
    0%,
    100% {
      opacity: 1;
    }
    50% {
      opacity: 0.6;
    }
  }
  .animate-pulse-soft {
    animation: pulse-soft 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  /* 3. Indeterminate Progress Bar (Moves infinitely) */
  @keyframes progress-slide {
    0% {
      transform: translateX(-100%);
      width: 20%;
    }
    50% {
      transform: translateX(50%);
      width: 60%;
    }
    100% {
      transform: translateX(300%);
      width: 20%;
    }
  }
  .animate-progress {
    animation: progress-slide 1.8s infinite ease-in-out;
  }

  /* SVG Gradient Colors - Kept White for contrast against the purple */
  .loop-gradient {
    stop-color: #ffffff;
  }
  .loop-gradient-end {
    stop-color: #f8fafc;
  }
</style>

<div
  id="global-loader"
  class="fixed inset-0 z-[9999] flex min-h-screen w-full flex-col items-center justify-center bg-[#8b5cf6]/10 backdrop-blur-md transition-opacity duration-300"
>
  <div class="absolute top-0 left-0 w-full h-1 bg-white/20 overflow-hidden">
    <div
      class="h-full bg-white animate-progress rounded-r-full shadow-[0_0_8px_rgba(255,255,255,0.8)]"
    ></div>
  </div>

  <div
    class="flex flex-col items-center gap-4 md:gap-6 max-w-sm md:max-w-md px-6 text-center"
  >
    <div
      class="relative w-24 h-24 md:w-32 md:h-32 flex items-center justify-center"
    >
      <svg
        viewBox="0 0 100 50"
        class="w-full h-full drop-shadow-2xl transform transition-transform hover:scale-105 duration-500"
      >
        <defs>
          <linearGradient id="loopGradient" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" class="loop-gradient" />
            <stop offset="100%" class="loop-gradient-end" />
          </linearGradient>
          <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
            <feGaussianBlur stdDeviation="2.5" result="blur" />
            <feComposite in="SourceGraphic" in2="blur" operator="over" />
          </filter>
        </defs>

        <path
          class="infinity-path"
          d="M 25 15 C 10 15 10 35 25 35 C 38 35 45 25 50 25 C 55 25 62 35 75 35 C 90 35 90 15 75 15 C 62 15 55 25 50 25 C 45 25 38 15 25 15 Z"
          fill="none"
          stroke="url(#loopGradient)"
          stroke-width="4.5"
          stroke-linecap="round"
          stroke-linejoin="round"
          filter="url(#glow)"
        />
      </svg>
    </div>

    <div class="space-y-1.5 md:space-y-2 mt-1 md:mt-2">
      <h1
        class="text-white text-3xl md:text-4xl font-extrabold tracking-tight drop-shadow-md"
      >
        ClassLoop
      </h1>
      <p
        class="text-white/90 text-sm md:text-base font-medium animate-pulse-soft drop-shadow-sm"
      >
        Syncing campus network...
      </p>
    </div>

    <div class="w-48 md:w-56 mt-4 md:mt-6 space-y-3">
      <div
        class="h-1.5 w-full bg-white/20 rounded-full overflow-hidden relative shadow-inner"
      >
        <div
          class="absolute top-0 left-0 h-full bg-white rounded-full animate-progress shadow-[0_0_10px_rgba(255,255,255,0.6)]"
        ></div>
      </div>
    </div>
  </div>

  <div
    class="absolute bottom-6 md:bottom-8 flex flex-col items-center gap-1.5 opacity-70 select-none"
  >
    <div
      class="flex items-center gap-1.5 text-white text-[11px] md:text-xs font-semibold tracking-wide drop-shadow-sm"
    >
      <span class="material-symbols-outlined text-[14px]">lock</span>
      <span>Secure Student Portal</span>
    </div>
  </div>
</div>
