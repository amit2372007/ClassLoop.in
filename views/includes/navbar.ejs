

<body class="bg-background-dark dark:bg-background-dark font-display text-slate-900 dark:text-white min-h-screen">
  <!-- Top Navigation Bar -->
  <header
    class="sticky top-0 z-50 w-full border-b border-white/10 glass-card px-4 md:px-8 py-3 bg-[#0f172a]/80 backdrop-blur-md">
    <div class="max-w-[1440px] mx-auto flex items-center justify-between gap-4">

      <a href="/home" class="flex items-center gap-3 group transition-all duration-300 ease-in-out">
  <div class="size-10 bg-primary rounded-xl flex items-center justify-center text-white">
          <span class="material-symbols-outlined text-2xl fill">all_inclusive</span>
        </div>

  <h2 class="text-xl text-white font-extrabold tracking-tighter hidden md:block transition-colors duration-300 group-hover:text-primary">
    ClassLoop<span class="text-primary group-hover:text-white transition-colors">.in</span>
  </h2>
</a>

      <!-- <a href="/home" class="flex items-center gap-3">
        <div class="size-10 bg-primary rounded-xl flex items-center justify-center text-white">
          <span class="material-symbols-outlined text-2xl fill">all_inclusive</span>
        </div>
        <h2 class="text-xl text-white font-bold tracking-tight hidden md:block">ClassLoop.in</h2>
      </a> -->
      
          <form action="/home/search" method="GET" class="flex-1 max-w-2xl px-4 py-2">
  <label class="relative block w-full">
    <span class="absolute inset-y-0 left-0 flex items-center pl-4 text-slate-400">
      <span class="material-symbols-outlined">search</span>
    </span>
    <input 
      name="q" 
      required
      class="w-full bg-background-dark  border-transparent focus:ring-primary focus:border-primary rounded-xl py-2.5 pl-11 pr-4 text-sm placeholder:text-slate-500 text-white transition-colors border"
      placeholder="Search for ClassMates, Posts and Doubts ..." 
      type="text" 
      value="<%= typeof searchQuery !== 'undefined' ? searchQuery : '' %>"
    />
  </label>
</form>

          <div class="flex items-center gap-3">
            <% if(!currUser) { %>
              <div class="flex items-center gap-2">
                <form action="/user/signup" method="GET">
                  <button
                    class="bg-white/5 hover:bg-white/10 text-white px-4 py-2 rounded-xl text-sm font-bold transition-all border border-white/10">
                    Sign up
                  </button>
                </form>
                <form action="/user/login" method="GET">
                  <button
                    class="bg-primary hover:bg-primary/80 text-white px-4 py-2 rounded-xl text-sm font-bold transition-all">
                    Log in
                  </button>
                </form>
              </div>
              <% } else { %>
                <div class="flex items-center gap-3">

                  <div class="flex items-center gap-3">
                    <% if(currUser) { %>

        <a href="/chat" class="p-2 hover:bg-white/5 rounded-xl transition-all group flex items-center justify-center"
          title="Messages">
          <span class="material-symbols-outlined text-[28px] text-white/70 group-hover:text-white transition-colors">
            chat
          </span>
        </a>
        <% } %>

                    <a href="/notifications" class="relative group p-2 hover:bg-white/5 rounded-xl transition-all">
                      <span
                        class="material-symbols-outlined text-2xl text-white/70 group-hover:text-white transition-colors">
                        notifications
                      </span>
                      <% if (unreadCount> 0) { %>
                        <span class="absolute top-2 right-2 flex h-2.5 w-2.5">
                          <span
                            class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-500 opacity-75"></span>
                          <span
                            class="relative inline-flex rounded-full h-2.5 w-2.5 bg-red-500 border-2 border-[#0f172a]"></span>
                        </span>
                        <% } %>
                    </a>

                    <% if(currUser.designation==='admin' ){ %>
                      <form action="/admin" method="GET">
                        <button
                          class="bg-white/5 hover:bg-white/10 text-white px-4 py-2 rounded-xl text-sm font-bold transition-all border border-white/10">Admin
                          Panel</button>
                      </form>
                      <% } else if(currUser.designation==='principle' ) { %>
                        <form action="/school" method="GET">
                          <button
                            class="bg-white/5 hover:bg-white/10 text-white px-4 py-2 rounded-xl text-sm font-bold transition-all border border-white/10">Principle
                            Panel</button>
                        </form>
                        <% } else if(currUser.designation==='classTeacher' ) { %>
                          <form action="/teacher" method="GET">
                            <button
                              class="bg-white/5 hover:bg-white/10 text-white px-4 py-2 rounded-xl text-sm font-bold transition-all border border-white/10">Teacher
                              Panel</button>
                          </form>
                          <% } %>

                            <form action="/user/logout" method="GET">
                              <button
                                class="text-white/60 hover:text-white px-3 py-2 text-sm font-medium transition-all">
                                Logout
                              </button>
                            </form>

                            <a href="/user/profile"
                              class="size-10 rounded-full border-2 border-primary/20 overflow-hidden hover:scale-105 transition-transform">
                              <img src="<%=currUser.profilePic.url%>" alt="Profile" class="w-full h-full object-cover">
                            </a>
                  </div>
                  <% } %>
                </div>
          </div>
  </header>
</body>